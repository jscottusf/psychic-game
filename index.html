<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>PSYCHIC GAME</title>
</head>
<body>
    <div>
        <h1>PSYCHIC GAME!</h1>
        <h2>Guess what letter I'm thinking of...</h2>
        <p>Wins: <span id="winsText"></span></p>
        <p>Losses: <span id="lossesText"></span></p>
        <p>Guesses Left: <span id="guessesLeftText"></span></p>
        <p>Your guesses so far: <span id="guessesText"></span></p>
    </div>
     
    <script>
        //delcare variables
        var computerChoices = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"];
        var playerMove;
        var computerMove;
        var guessesLeft;
        var guesses = [];
        var guessesLeft = 9;
        var guessesLeftText;
        var guessesText;
        var winsText;
        var lossesText;
        var wins = 0;
        var losses = 0;
        

        //assign variables to html
        winsText = document.getElementById("winsText");
        lossesText = document.getElementById("lossesText");
        guessesLeftText = document.getElementById("guessesLeftText");
        guessesText = document.getElementById("guessesText");
        setComputerMove();
        setScore();
        console.log(computerMove);

        
        

        //main game loop
        document.onkeyup = function(event) {
            playerMove = event.key;
            console.log(playerMove);

            //check that key is a lower case letter
            if (computerChoices.indexOf(playerMove) === -1) {
                alert("Please choose a lower case letter from a - z");
            }
            else {
              if (playerMove === computerMove) {
                wins++;
                guessesLeft = 9;
                setComputerMove();
                console.log(computerMove);
                guesses = [];
                }
                else if (guessesLeft > 1) {
                    guessesLeft--;
                    showGuesses();
                    }
                else {
                    losses++;
                    guessesLeft = 9;
                    setComputerMove();
                    console.log(computerMove);
                    guesses = [];
                    }  
            }
            

            setScore();
            
                
            
        };

        function setComputerMove() {
            computerMove = computerChoices[Math.floor(Math.random() * computerChoices.length)];
        }

        function setScore() {
            winsText.innerHTML = wins;
            lossesText.innerHTML = losses;
            guessesLeftText.innerHTML = guessesLeft;
            guessesText.innerHTML = "  " + guesses;
        }

        function showGuesses() {
            guesses.push(playerMove);
        }




    </script>
</body>
</html>